<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Competition</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }

        p {
            text-align: justify;
            margin-bottom: 30px;
            font-size: 16px;
            line-height: 1.5;
            color: #666;
            overflow-wrap: break-word;
        }

        .image {
            float: right;
            width: 50%;
        }

        .container {
            border: none;
            box-sizing: border-box;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .text {
            font-family: Arial, sans-serif; /* Change font family */
            font-size: 18px; /* Increase font size */
            line-height: 1.5; /* Add some line height for readability */
            color: #333; /* Change text color */
            text-align: justify; /* Justify the text for better alignment */
        }

        .text2 {
            float: left;
            width: 50%;
        }

        .image {
            float: right;
            width: 50%;
        }

        .container {
            border: none;
            box-sizing: border-box;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .text {
            font-family: Arial, sans-serif; /* Change font family */
            font-size: 18px; /* Increase font size */
            line-height: 1.5; /* Add some line height for readability */
            color: #333; /* Change text color */
            text-align: justify; /* Justify the text for better alignment */
        }

        .form-submit {
            display: flex;
            flex-direction: column;
            padding: 10px;
        }

        .form-field {
            display: flex;
            flex-direction: column;
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 10px;
        }

            .form-field label {
                font-weight: bold;
                margin-bottom: 5px;
            }

            .form-field .form-input {
                position: relative;
            }

                .form-field .form-input:before {
                    content: attr(data-title);
                    position: absolute;
                    top: -10px;
                    left: 10px;
                    background-color: #fff;
                    font-size: 12px;
                    padding: 0 5px;
                }

            .form-field input,
            .form-field textarea {
                padding: 5px;
                border: none;
                border-radius: 3px;
            }

                .form-field input[type="file"] {
                    border: 1px solid #ccc;
                    padding: 5px;
                    border-radius: 3px;
                    background-color: #fff;
                }

        button[type="submit"] {
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 3px;
            padding: 5px 10px;
        }


        ul {
            list-style: none;
            padding: 0;
        }

        li {
            margin-bottom: 5px;
        }

        #query-container {
            display: flex;
            flex-direction: column;
            margin: 20px 0;
        }

        .query-row label {
            margin-right: 10px;
        }

        .query-input {
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 100%;
        }

        #next-btn, #submit-btn {
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 4px;
            border: none;
            background-color: #4CAF50;
            color: white;
        }

            #next-btn:hover, #submit-btn:hover {
                background-color: #3e8e41;
            }

    </style>
</head>
<body onload="myFunction()">
    <div class="container">
        <h2 id="header"></h2>
        <h3>Problem Description</h3>
        <p id="para"></p>
        <h3>Submission</h3>
        <form>
            <div class="form-field">
                <label for="file">Solution File:</label>
                <input type="file" id="submission" name="file" required>
            </div>

            <div class="form-submit">
                <button type="submit" id="submit-btn" name="Submit">Submit</button>
            </div>
        </form>
    </div>

    <script>
        function myFunction() {
            const urlParams = new URLSearchParams(window.location.search);
            const competitionId = urlParams.get('id');
            const accessToken = urlParams.get('access_token');
            console.log("here AT is " + accessToken);
            console.log("id is " + competitionId);
            fetch("/v1/competitions/overview/" + competitionId)
                .then(response => response.json())
                .then(data => {
                    document.getElementById("header").innerHTML = data.title;
                    document.getElementById("para").innerHTML = data.description;
                });
        }


        function handleSubmit(event) {


            //const inputForm = document.getElementById("form");

            event.preventDefault();
            console.log("Here");
            const submission = document.getElementById('submission').files[0];



            //const form = new FormData(inputForm);

            const formData = new FormData();
            formData.append('submission', submission);
            //console.log(titleInput.value + " " + descriptionInput.value + " " + selectedValue + " " + document.getElementById('schemaFile').files[0]);
        }

        const form = document.querySelector('form');
        form.addEventListener('submit', handleSubmit);
    </script>
</body>
</html>