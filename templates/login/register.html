<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>LeaderBoard</title>
    <!-- plugins:css -->

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='/css/login_css.css')}}" />
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="css/style.css" <!-- End layout styles -->
    <!-- <link rel="shortcut icon" href="../../images/favicon.png" /> -->
</head>
  <body>
    <div class="container-scroller">
      <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth">
          <div class="row flex-grow">
            <div class="col-lg-4 mx-auto">
                <div class="auth-form-light text-left p-5">
                    <div class="brand-logo">
                        <!-- <img src="../../images/logo.svg"> -->
                    </div>
                    <h4>New here?</h4>
                    <h6 class="font-weight-light">Signing up is easy. It only takes a few steps</h6>
                    <form class="pt-3" action="Link to page" method="POST">
                        <div class="form-group">
                            <input type="text" class="form-control form-control-lg" id="firstName" placeholder="Username" required />
                        </div>
                        <!--                   <div class="form-group">
                            <input type="text" class="form-control form-control-lg" id="lastName" placeholder="Lastname" required />
                          </div> -->
                        <div class="form-group">
                            <input type="email" class="form-control form-control-lg" id="emailId" placeholder="Email" required />
                        </div>
                        <!--                   <div class="form-group">
                            <input type="date" class="form-control form-control-lg" id="dateOfBirth" placeholder="DateOfBirth" required />
                          </div> -->
                        <div class="form-group">
                            <input type="password" class="form-control form-control-lg" id="password" placeholder="Password" required />
                        </div>
                        <div class="mt-3">
                            <button type="submit" class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn">Submit</button>
                        </div>
                        <div class="text-center mt-4 font-weight-light">
                            Already have an account? <a href="login.html" class="text-primary">Login</a>
                        </div>
                    </form>
                    <script>
                                  function handleSubmit(event) {
                                      event.preventDefault();
                                      const params = { username: document.getElementById("emailId").value, password: document.getElementById("password").value };
                                      const req_json = JSON.stringify(params);
                                      fetch('/v1/user/register', {
                                          method: 'POST',
                                          body: req_json,
                                          headers: { 'Content-Type': 'application/json' }
                                      })
                                          .then(response => {
                                              if (!response.ok) {
                                                  throw new Error(`HTTP error! status: ${response.status}`);
                                                  //window.location.replace("/login/register.html");

                                              }
                                              window.location.replace("/login/login.html");
                                              return response.json();
                                          })
                                          .catch(error => console.error(error));
                                  }
                                  const form = document.querySelector('form');
                                  form.addEventListener('submit', handleSubmit);
                    </script>
                </div>
            </div>
          </div>
        </div>
        <!-- content-wrapper ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
  </body>
</html>